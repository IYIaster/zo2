var strategy=[[12],[6,6],[4,4,4],[3,3,3,3],[3,3,2,2,2],[2,2,2,2,2,2]];var visibilityAttributes=["data-zo2-visibility-xs","data-zo2-visibility-sm","data-zo2-visibility-md","data-zo2-visibility-lg"];var allColClass="col-md-1 col-md-2 col-md-3 col-md-4 col-md-5 col-md-6 col-md-7 col-md-8 col-md-9 col-md-10 col-md-11 col-md-12";var allColOffset="col-md-offset-0 col-md-offset-1 col-md-offset-2 col-md-offset-3 col-md-offset-4 col-md-offset-5 col-md-offset-6 col-md-offset-7 col-md-offset-8 col-md-offset-9 col-md-offset-10 col-md-offset-11 col-md-offset-12";var $=jQuery.noConflict();$(window).bind("load",function(){addIconToMenu();fixToolbarIcon();fixPreviewIcon()});jQuery(document).ready(function(d){injectFormSubmit();bindSortable();d("#txtRowName").on("keyup",function(g){var f=d(this);d("#txtRowId").val(generateSlug(f.val()))});var b=d("#hfLayoutName").val();var a=d("#hfTemplateName").val();d(".btn-group-onoff > button").on("click",function(g){var f=d(this);var h=f.closest(".btn-group-onoff");h.find("button").removeClass("active btn-success btn-danger");if(f.hasClass("btn-on")){f.addClass("active btn-success")}else{f.addClass("active btn-danger")}return false});d("#droppable-container").on("click",".row-control-buttons > .duplicate",function(){var j=d(this);var h=j.closest(".zo2-row");var k=j.closest(".zo2-container, .sortable-col");var e=jQuery("<div />").addClass("zo2-row sortable-row").insertAfter(h);e.attr("data-zo2-type","row");e.attr("data-zo2-customClass","");e.attr("data-zo2-fullwidth","0");for(var g=0;g<visibilityAttributes.length;g++){e.attr(visibilityAttributes[g],"1")}var f=jQuery('<div class="col-md-12 row-control"><div class="row-control-container"><div class="row-name">(unnamed row)</div><div class="row-control-buttons"><i title="Drag row" class="icon-move row-control-icon dragger hasTooltip"></i><i title="Row\'s settings" class="icon-cogs row-control-icon settings hasTooltip"></i><i title="Duplicate row" class="row-control-icon duplicate icon-align-justify"></i><i title="Split row" class="row-control-icon split icon-columns hasTooltip"></i><i title="Remove row" class="row-control-icon delete icon-remove hasTooltip"></i></div></div><div class="col-container"></div></div>');f.appendTo(e);});d("#droppable-container").on("click",".row-control-buttons > .split",function(){var k=d(this);var o=k.closest('[data-zo2-type="row"]');var f=o.find(">.col-md-12>.col-container");var j=f.find('>[data-zo2-type="span"]');var g=j.length;if(j.length>5){return false}else{var l=strategy[g];var m=jQuery("<div />").addClass("sortable-col");m.attr("data-zo2-type","span");m.attr("data-zo2-position","");m.attr("data-zo2-offset",0);m.attr("data-zo2-customClass","");for(var h=0;h<visibilityAttributes.length;h++){m.attr(visibilityAttributes[h],"1")}var e='<div class="col-wrap"><div class="col-name">(none)</div><div class="col-control-buttons"><i title="Drag column" class="col-control-icon dragger icon-move hasTooltip"></i><i title="Column\'s settings" class="icon-cogs col-control-icon settings hasTooltip"></i><i title="Append new row" class="col-control-icon add-row icon-align-justify hasTooltip"></i><i title="Remove column" class="icon-remove col-control-icon delete hasTooltip"></i></div><div class="row-container"></div></div></div>';var n=jQuery(e);n.appendTo(m);m.appendTo(f);f.find('>[data-zo2-type="span"]').each(function(i){var p=jQuery(this);p.removeClass(allColClass);p.addClass("col-md-"+l[i]);p.attr("data-zo2-span",l[i])});bindSortable();}});d("#droppable-container").on("click",".row-control-buttons > .delete",function(){var e=d(this);bootbox.confirm("Are you sure want to delete this row?",function(f){if(f){e.closest(".sortable-row").remove()}})});d("#droppable-container").on("click",".col-control-buttons > .delete",function(){var e=d(this);bootbox.confirm("Are you sure want to delete this column?",function(f){var g=e.closest(".col-container");if(f){e.closest(".sortable-col").remove()}rearrangeSpan(g)})});d("#droppable-container").on("click",".col-control-buttons > .add-row",function(){var h=d(this);var j=h.parents(".col-wrap").find(">.row-container");var e=jQuery("<div />").addClass("zo2-row sortable-row").appendTo(j);e.attr("data-zo2-type","row");e.attr("data-zo2-customClass","");e.attr("data-zo2-fullwidth","0");for(var g=0;g<visibilityAttributes.length;g++){e.attr(visibilityAttributes[g],"1")}var f=jQuery('<div class="col-md-12 row-control"><div class="row-control-container"><div class="row-name">(unnamed row)</div><div class="row-control-buttons"><i title="Drag row" class="icon-move row-control-icon dragger hasTooltip"></i><i title="Row\'s settings" class="icon-cogs row-control-icon settings hasTooltip"></i><i title="Duplicate row" class="row-control-icon duplicate icon-align-justify hasTooltip"></i><i title="Split row" class="row-control-icon split icon-columns hasTooltip" /><i title="Remove row" class="row-control-icon delete icon-remove hasTooltip"></i></div></div></div>');f.appendTo(e);var k=jQuery("<div />").addClass("col-container row-fluid clearfix");k.appendTo(f);});d("#droppable-container").on("click",".row-control-buttons > .settings",function(){var j=d(this);var e=j.closest(".sortable-row");var g=e.find(">.row-control>.row-control-container>.row-name").text();var h=e.attr("data-zo2-customClass");var i=e.attr("data-zo2-id");if(!h){h=""}d("#btgRowPhone").find("button").removeClass("active btn-success btn-danger");if(e.attr("data-zo2-visibility-xs")=="1"){d("#btgRowPhone").find(".btn-on").addClass("active btn-success")}else{d("#btgRowPhone").find(".btn-off").addClass("active btn-danger")}d("#btgRowTablet").find("button").removeClass("active btn-success btn-danger");if(e.attr("data-zo2-visibility-sm")=="1"){d("#btgRowTablet").find(".btn-on").addClass("active btn-success")}else{d("#btgRowTablet").find(".btn-off").addClass("active btn-danger")}d("#btgRowDesktop").find("button").removeClass("active btn-success btn-danger");if(e.attr("data-zo2-visibility-md")=="1"){d("#btgRowDesktop").find(".btn-on").addClass("active btn-success")}else{d("#btgRowDesktop").find(".btn-off").addClass("active btn-danger")}d("#btgRowLargeDesktop").find("button").removeClass("active btn-success btn-danger");if(e.attr("data-zo2-visibility-lg")=="1"){d("#btgRowLargeDesktop").find(".btn-on").addClass("active btn-success")}else{d("#btgRowLargeDesktop").find(".btn-off").addClass("active btn-danger")}d("#btgFullWidth").find("button").removeClass("active btn-danger btn-success");if(e.attr("data-zo2-fullwidth")=="1"){d("#btgFullWidth").find(".btn-on").addClass("btn-success active")}else{d("#btgFullWidth").find(".btn-off").addClass("btn-danger active")}d.data(document.body,"editingEl",e);d("#txtRowName").val("").val(g);d("#txtRowCss").val("").val(h);d("#txtRowId").val(i);var f=d("#rowSettingsModal");f.find(".zo2-tabs").find("li a").removeClass("active");f.find(".zo2-tabs-content").find("> div").removeClass("active");f.find(".zo2-tabs").find("li a:first").addClass("active");f.find(".zo2-tabs-content").find("> div:first").addClass("active");f.modal("show")});d("#btnSaveRowSettings").on("click",function(){var e=d.data(document.body,"editingEl");e.find(">.row-control>.row-control-container>.row-name").text(d("#txtRowName").val());e.attr("data-zo2-customClass",d("#txtRowCss").val());e.attr("data-zo2-visibility-xs",d("#btgRowPhone").find(".btn-on").hasClass("active")?"1":"0");e.attr("data-zo2-visibility-sm",d("#btgRowTablet").find(".btn-on").hasClass("active")?"1":"0");e.attr("data-zo2-visibility-md",d("#btgRowDesktop").find(".btn-on").hasClass("active")?"1":"0");e.attr("data-zo2-visibility-lg",d("#btgRowLargeDesktop").find(".btn-on").hasClass("active")?"1":"0");e.attr("data-zo2-fullwidth",d("#btgFullWidth").find(".btn-on").hasClass("active")?"1":"0");e.attr("data-zo2-id",d("#txtRowId").val());d("#rowSettingsModal").modal("hide");return false});d("#droppable-container").on("click",".col-control-buttons > .settings",function(){var i=d(this);var k=i.closest(".sortable-col");d.data(document.body,"editingEl",k);var m=k.attr("data-zo2-span");var f=k.attr("data-zo2-position");var h=k.attr("data-zo2-offset");var l=k.attr("data-zo2-style");var e=k.attr("data-zo2-customClass");var g=k.attr("data-zo2-id");d("#btgColPhone").find("button").removeClass("active btn-danger btn-success");if(k.attr("data-zo2-visibility-xs")=="1"){d("#btgColPhone").find(".btn-on").addClass("btn-success active")}else{d("#btgColPhone").find(".btn-off").addClass("btn-danger active")}d("#btgColTablet").find("button").removeClass("active btn-danger btn-success");if(k.attr("data-zo2-visibility-sm")=="1"){d("#btgColTablet").find(".btn-on").addClass("btn-success active")}else{d("#btgColTablet").find(".btn-off").addClass("btn-danger active")}d("#btgColDesktop").find("button").removeClass("active btn-danger btn-success");if(k.attr("data-zo2-visibility-md")=="1"){d("#btgColDesktop").find(".btn-on").addClass("btn-success active")}else{d("#btgColDesktop").find(".btn-off").addClass("btn-danger active")}d("#btgColLargeDesktop").find("button").removeClass("active btn-danger btn-success");if(k.attr("data-zo2-visibility-lg")=="1"){d("#btgColLargeDesktop").find(".btn-on").addClass("btn-success active")}else{d("#btgColLargeDesktop").find(".btn-off").addClass("btn-danger active")}d("#dlColWidth").val(m).trigger("liszt:updated");d("#dlColPosition").val(f).trigger("liszt:updated");d("#ddlColOffset").val(h).trigger("liszt:updated");d("#ddlColStyle").val(l).trigger("liszt:updated");d("#txtColCss").val(e);d("#txtColId").val(g);var j=d("#colSettingsModal");j.find(".zo2-tabs").find("li a").removeClass("active");j.find(".zo2-tabs-content").find("> div").removeClass("active");j.find(".zo2-tabs").find("li a:first").addClass("active");j.find(".zo2-tabs-content").find("> div:first").addClass("active");j.modal("show")});d("#btnSaveColSettings").on("click",function(){var f=d.data(document.body,"editingEl");f.attr("data-zo2-span",d("#dlColWidth").val());f.attr("data-zo2-offset",d("#ddlColOffset").val());f.attr("data-zo2-style",d("#ddlColStyle").val());f.attr("data-zo2-customClass",d("#txtColCss").val());f.attr("data-zo2-id",d("#txtColId").val());f.attr("data-zo2-visibility-xs",d("#btgColPhone").find(".btn-on").hasClass("active")?"1":"0");f.attr("data-zo2-visibility-sm",d("#btgColTablet").find(".btn-on").hasClass("active")?"1":"0");f.attr("data-zo2-visibility-md",d("#btgColDesktop").find(".btn-on").hasClass("active")?"1":"0");f.attr("data-zo2-visibility-lg",d("#btgColLargeDesktop").find(".btn-on").hasClass("active")?"1":"0");var e=d("#dlColPosition").val().length>0?d("#dlColPosition").val():"(none)";f.removeClass(allColClass).addClass("col-md-"+d("#dlColWidth").val());f.removeClass(allColOffset).addClass("col-md-offset-"+d("#ddlColOffset").val());f.attr("data-zo2-position",d("#dlColPosition").val());f.find(">.col-wrap>.col-name").text(e);d("#colSettingsModal").modal("hide");return false});d(".zo2-tabs").on("click","li a",function(){var g=d(this);var e=g.closest(".zo2-tabs");var f=e.find(".active");f.removeClass("active");f.each(function(){var h=d("#"+d(this).attr("data-toggle"));h.removeClass("active")});g.addClass("active");d("#"+g.attr("data-toggle")).addClass("active")});d(".font-container .txtColorPicker").colorpicker().on("change",function(){var g=d(this);var f=g.parent();var h=g.closest(".font-container");var e=f.find(".color-preview");if(g.val().length>0){e.css("background-color",g.val())}else{e.css("background-color","transparent")}h.trigger("font-change")});d(".cbEnableFont").each(function(){var f=d(this);var g=f.closest(".font-container");var e=g.find(">.font_options");if(f.find(".btn-on").hasClass("active")){e.show()}else{e.hide()}});d(".cbEnableFont > button").on("click",function(){var f=d(this);var g=f.closest(".font-container");var e=g.find(">.font_options");if(g.find(".btn-on").hasClass("active")){e.stop().slideDown()}else{e.stop().slideUp()}g.trigger("font-change")});d(".font-container").on("click",".btnStandardFonts",function(){var e=d(this);var f=e.closest(".font-container");f.find(".font-types").find("button").removeClass("btn-success");e.addClass("btn-success");f.find(".font-options-google").stop().slideUp(300);f.find(".font-options-fontdeck").stop().slideUp(300);f.find(".font-options-standard").stop().slideDown(400,function(){f.trigger("font-change")})});d(".font-container").on("click",".btnGoogleFonts",function(){var e=d(this);var f=e.closest(".font-container");f.find(".font-types").find("button").removeClass("btn-success");e.addClass("btn-success");f.find(".font-options-standard").stop().slideUp(300);f.find(".font-options-fontdeck").stop().slideUp(300);f.find(".font-options-google").stop().slideDown(400,function(){f.trigger("font-change")})});d(".font-container").on("click",".btnFontDeck",function(){var e=d(this);var f=e.closest(".font-container");f.find(".font-types").find("button").removeClass("btn-success");e.addClass("btn-success");f.find(".font-options-standard").stop().slideUp(300);f.find(".font-options-google").stop().slideUp(300);f.find(".font-options-fontdeck").stop().slideDown(400,function(){f.trigger("font-change")})});d(".txtGoogleFontSelect").fontselect();d("#font_chooser").on("font-change",".font-container",function(){var e=d(this);generateFontOptions(e)});var c=".txtFontSize, .cbEnableFont, .txtColorPicker, .ddlFontStyle, .txtFontDeckCss, .txtGoogleFontSelect, .ddlStandardFont";d(".font-container").on("change",c,function(){var e=d(this);var f=e.closest(".font-container");f.trigger("font-change")});d("#zo2_themes_container").find(".txtColorPicker").colorpicker().on("change",function(){var g=d(this);var f=g.parent();var e=f.find(".color-preview");if(g.val().length>0){e.css("background-color",g.val())}else{e.css("background-color","transparent")}generatePresetData()});d("#zo2_themes").on("click","> li",function(){var f=d(this);var g=d("#zo2_themes_container");var e=d("#zo2_themes");var h=g.find("> input");e.find(">li").removeClass("active");f.addClass("active");h.val(f.attr("data-zo2-theme"));d("#color_background").colorpicker("setValue",f.attr("data-zo2-background"));d("#color_header").colorpicker("setValue",f.attr("data-zo2-header"));d("#color_text").colorpicker("setValue",f.attr("data-zo2-text"));d("#color_link").colorpicker("setValue",f.attr("data-zo2-link"));d("#color_link_hover").colorpicker("setValue",f.attr("data-zo2-link-hover"));d("#color_background_preview").css("background-color",f.attr("data-zo2-background"));d("#color_header_preview").css("background-color",f.attr("data-zo2-header"));d("#color_header_top_preview").css("background-color",f.attr("data-zo2-header-top"));d("#color_text_preview").css("background-color",f.attr("data-zo2-text"));d("#color_link_preview").css("background-color",f.attr("data-zo2-link"));d("#color_link_hover_preview").css("background-color",f.attr("data-zo2-link-hover"));d("#color_bottom1_preview").css("background-color",f.attr("data-zo2-bottom1"));d("#color_bottom2_preview").css("background-color",f.attr("data-zo2-bottom2"));d("#color_footer_preview").css("background-color",f.attr("data-zo2-footer"));generatePresetData()});d(".field-logo-container").on("click",".btn-remove-preview",function(){var f=d(this);var g=f.closest(".field-logo-container");var e=g.find(".logo-preview");var h=g.find(".logoInput");e.empty();return false});d(".logo-type-switcher").on("click","button",function(){var f=d(this);var g=f.closest(".field-logo-container");var e=f.closest(".logo-type-switcher").find("button");e.removeClass("active btn-success");f.addClass("active btn-success");if(f.hasClass("logo-type-none")){g.find(".logo-image").fadeOut(300);g.find(".logo-text").fadeOut(300)}else{if(f.hasClass("logo-type-image")){g.find(".logo-image").fadeIn(300);g.find(".logo-text").fadeOut(300)}else{if(f.hasClass("logo-type-text")){g.find(".logo-image").fadeOut(300);g.find(".logo-text").fadeIn(300)}}}return false});d("#btnClearCache").on("click",function(){var h=d(this);var f=Assets.root+"index.php?zo2controller=clearCache";var g="";var e=setInterval(function(){g+=".";if(g.length>=4){g=""}h.text("Clearing cache"+g)},1000);d.get(f,function(){clearInterval(e);h.removeClass("btn-danger").addClass("btn-success").text("Clear cache successfully");setTimeout(function(){h.removeClass("btn-success").addClass("btn-danger").text("Clear layout cache")},2000)});return false})});var generatePresetData=function(){var b=jQuery;var c=b("#zo2_themes").find(".active");var a={name:c.attr("data-zo2-theme"),css:c.attr("data-zo2-css"),less:c.attr("data-zo2-less"),background:b("#color_background").val(),header:b("#color_header").val(),header_top:b("#color_header_top").val(),text:b("#color_text").val(),link:b("#color_link").val(),link_hover:b("#color_link_hover").val(),bottom1:b("#color_bottom1").val(),bottom2:b("#color_bottom2").val(),footer:b("#color_footer").val()};b("#zo2_themes_container").find("input:first").val(JSON.stringify(a))};var refreshLogoPreview=function(j){var c=jQuery;var e=c(j);var i=e.closest(".field-logo-container");var b=i.find(".logo-preview");var g=i.find(".basePath").val();var f=i.find(".logoInput");var a=i.find(".logo-width");var h=i.find(".logo-height");b.empty();var d=c("<img />").appendTo(b);a.val("0");h.val("0");d.on("load",function(){a.val(this.naturalWidth);h.val(this.naturalHeight)});d.attr("src",g+"/"+e.val())};var generateLogoJson=function(g){var b=g.find(".logo-type-switcher").find("button");var h=g.find(".logoInput");var d=g.find(".logo-type-switcher").find("button.active");var f={type:"none"};if(d.hasClass("logo-type-none")){f={type:"none"}}else{if(d.hasClass("logo-type-image")){var e=g.find(".logo-path").val();var c=parseInt(g.find(".logo-width").val());var a=parseInt(g.find(".logo-height").val());if(isNaN(c)){c=0}if(isNaN(a)){a=0}f={type:"image",path:e,width:c,height:a}}else{if(d.hasClass("logo-type-text")){f={type:"text",text:g.find(".logo-text-input").val()}}}}h.val(JSON.stringify(f))};var bindSortable=function(){jQuery("#droppable-container > .zo2-container").sortable({items:">.sortable-row",handle:">.row-control>.row-control-container>.row-control-buttons>.row-control-icon.dragger",containment:"parent",tolerance:"pointer",forcePlaceholderSize:true,axis:"y"});jQuery(".sortable-row").sortable({items:">.row-control>.col-container>.sortable-col",handle:">.col-wrap>.col-control-buttons>.col-control-icon.dragger",containment:"parent",tolerance:"pointer",helper:"clone",axis:"x"})};var generateFontOptions=function(e){var b=e.find(" > input:first");var d=e.find(".cbEnableFont");if(!d.find(".btn-on").hasClass("active")){b.val("");return}var a={};var c=parseInt(e.find(".txtFontSize").val());if(isNaN(c)){c=12}if(c<=0){c=12}if(e.find(".btnStandardFonts").hasClass("active")){a={type:"standard",family:e.find(".ddlStandardFont").val(),size:c,color:e.find(".txtColorPicker").val(),style:e.find(".ddlFontStyle").val()}}else{if(e.find(".btnGoogleFonts").hasClass("active")){a={type:"googlefonts",family:e.find(".txtGoogleFontSelect").val(),size:c,color:e.find(".txtColorPicker").val(),style:e.find(".ddlFontStyle").val()}}else{if(e.find(".btnFontDeck").hasClass("active")){a={type:"fontdeck",family:e.find(".txtFontDeckCss").val(),size:c,color:e.find(".txtColorPicker").val(),style:e.find(".ddlFontStyle").val()}}}}b.val(JSON.stringify(a))};var generateJson=function(){var b=jQuery("#droppable-container .zo2-container");var a=[];b.find('>[data-zo2-type="row"]').each(function(){var c=generateItemJson(jQuery(this));if(c!=null){a.push(c)}});return JSON.stringify(a)};var generateItemJson=function(b){var a=null;var c=null;if(b.attr("data-zo2-type")=="row"){a={type:"row",name:b.find("> .row-control > .row-control-container > .row-name").text(),customClass:b.attr("data-zo2-customClass"),id:b.attr("data-zo2-id")?b.attr("data-zo2-id"):"",fullwidth:b.attr("data-zo2-fullwidth")=="1",visibility:{xs:b.attr("data-zo2-visibility-xs")=="1",sm:b.attr("data-zo2-visibility-sm")=="1",md:b.attr("data-zo2-visibility-md")=="1",lg:b.attr("data-zo2-visibility-lg")=="1"},children:[]};c=b.find("> .row-control > .col-container");c.find("> [data-zo2-type]").each(function(){var d=generateItemJson(jQuery(this));a.children.push(d)})}else{if(b.attr("data-zo2-type")=="span"){a={type:"col",name:b.find("> .col-wrap > .col-name").text(),position:b.attr("data-zo2-position"),span:parseInt(b.attr("data-zo2-span")),offset:parseInt(b.attr("data-zo2-offset")),customClass:b.attr("data-zo2-customClass")?b.attr("data-zo2-customClass"):"",style:b.attr("data-zo2-style"),id:b.attr("data-zo2-id")?b.attr("data-zo2-id"):"",visibility:{xs:b.attr("data-zo2-visibility-xs")=="1",sm:b.attr("data-zo2-visibility-sm")=="1",md:b.attr("data-zo2-visibility-md")=="1",lg:b.attr("data-zo2-visibility-lg")=="1"},children:[]};c=b.find("> .col-wrap > .row-container");c.find("> [data-zo2-type]").each(function(){var d=generateItemJson(jQuery(this));a.children.push(d)})}}return a};var rearrangeSpan=function(j){var c=jQuery;var g=j.find('>[data-zo2-type="span"]');if(g.length>0){var a=0;if(g.length==1){a=12-parseInt(g.attr("data-zo2-offset"));if(a>0){g.removeClass(allColClass);g.addClass("col-md-"+a);g.attr("data-zo2-span",a)}}else{var b=g.eq(g.length-1);var e=0;for(var d=0,h=g.length-1;d<h;d++){var f=g.eq(d);e+=parseInt(f.attr("data-zo2-offset"))+parseInt(f.attr("data-zo2-span"))}a=12-e;if(a>0){b.removeClass(allColClass);b.addClass("col-md-"+a);b.attr("data-zo2-span",a)}}}};var addIconToMenu=function(){var a=jQuery;a("#myTabTabs").find("a").eq(0).html('<i class="icon-info" /> Overview');a("#myTabTabs").find("a").eq(1).html('<i class="icon-cog" /> General');a("#myTabTabs").find("a").eq(2).html('<i class="icon-font" /> Fonts');a("#myTabTabs").find("a").eq(3).html('<i class="icon-pencil" /> Preset Styles');a("#myTabTabs").find("a").eq(4).html('<i class="icon-th" /> Layout Builder');a("#myTabTabs").find("a").eq(5).html('<i class="icon-list-alt" /> Mega Menus');a("#myTabTabs").find("a").eq(6).html('<i class="icon-edit-sign" /> Assignment');a("#myTabTabs").find("a").eq(7).html('<i class="icon-wrench" /> Advanced')};var fixToolbarIcon=function(){var a=jQuery;a(".icon-apply").replaceWith('<i class="icon-check"></i>');a(".icon-save-copy").replaceWith('<i class="icon-copy"></i>');a(".icon-cancel").replaceWith('<i class="icon-remove-sign color4"></i>')};var fixPreviewIcon=function(){var a=jQuery;a(".icon-eye").removeClass("icon-eye").addClass("icon-eye-open")};var injectFormSubmit=function(){};Joomla.submitform=function(a,b){if(typeof(b)==="undefined"||b===null){b=document.adminForm}jQuery(".toolbox-saveConfig").trigger("click");if(typeof(a)!=="undefined"){b.task.value=a}if(typeof b.onsubmit=="function"){b.onsubmit()}if(typeof b.fireEvent=="function"){b.fireEvent("submit")}var c=jQuery;var d=c(".hfLayoutHtml");c(".field-logo-container").each(function(){generateLogoJson(c(this))});d.val(generateJson());b.submit()};var generateSlug=function(c){c=c.replace(/^\s+|\s+$/g,"");var e="ÁÀẠẢÃĂẮẰẶẲẴÂẤẦẬẨẪáàạảãăắằặẳẵâấầậẩẫóòọỏõÓÒỌỎÕôốồộổỗÔỐỒỘỔỖơớờợởỡƠỚỜỢỞỠéèẹẻẽÉÈẸẺẼêếềệểễÊẾỀỆỂỄúùụủũÚÙỤỦŨưứừựửữƯỨỪỰỬỮíìịỉĩÍÌỊỈĨýỳỵỷỹÝỲỴỶỸĐđÑñÇç·/_,:;";var d="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaooooooooooooooooooooooooooooooooooeeeeeeeeeeeeeeeeeeeeeeuuuuuuuuuuuuuuuuuuuuuuiiiiiiiiiiyyyyyyyyyyddnncc------";for(var b=0,a=e.length;b<a;b++){c=c.replace(new RegExp(e[b],"g"),d[b])}c=c.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s+/g,"-").toLowerCase();c=c.replace(/(-){2,}/i,"-");return c};